<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Buszko Clicker</title>
    <link rel="stylesheet" href="styles.css">
	<script src="https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/10.1.0/firebase-database.js"></script>

</head>
<body>
    <div class="logo">
        <h1>Buszko Clicker</h1>
        <h5>Pre-alpha.v.0.4</h5>
    </div>
    <div class="BuszkoClicker">
            <div class="info">
                <div class="coiny">Buszonki: 0</div>
                
            </div>
        
        <div class="Buszko">
            <div class="active-helpers">
                <img id="helperDisplay1" class="active-helper hidden" src="Pies.png" alt="Active Kot">
            </div>
            <img src="buszon.png" alt="Buszko" class="clicker" id="buszko" draggable="false">
        </div>
		<table id="leaderboard">
   <thead>
       <tr>
           <th>Nick</th>
           <th>Buszonki</th>
       </tr>
   </thead>
   <tbody></tbody>
</table>

<script>
   function displayLeaderboard() {
       db.ref('users').orderByChild('buszonki').limitToLast(10).once('value', snapshot => {
           const tableBody = document.querySelector('#leaderboard tbody');
           tableBody.innerHTML = ''; // Wyczyszczenie tabeli
           snapshot.forEach(childSnapshot => {
               const data = childSnapshot.val();
               const row = `<tr><td>${data.nickname}</td><td>${data.buszonki}</td></tr>`;
               tableBody.innerHTML += row;
           });
       });
   }
   
   auth.onAuthStateChanged(user => {
       if (user) displayLeaderboard();
   });
</script>

        <h2>Logowanie</h2>
			<form id="loginForm">
				<input type="email" id="email" placeholder="Email" required>
				<input type="password" id="password" placeholder="Hasło" required>
				<button type="button" onclick="login()">Zaloguj</button>
			</form>

			<h2>Rejestracja</h2>
			<form id="registerForm">
				<input type="email" id="regEmail" placeholder="Email" required>
				<input type="password" id="regPassword" placeholder="Hasło" required>
				<input type="text" id="nickname" placeholder="Nick" required>
				<button type="button" onclick="register()">Zarejestruj</button>
			</form>
        <div class="sklep">
            <h2>Sklep</h2>
            <h3>Ulepszenia</h3>
            <hr>
            <div class="food-item" id="food1">
                <img src="sausage.jpg" alt="Kabanosy"> 
                <span>Kabanosy [100 Buszonki] Buszonki +5</span>
                <input type="number" id="food1-quantity" value="1" min="1">
                <span id="food1-max">Max: 0</span> <!-- Max quantity display -->
                <button class="buy-food" id="buy-food1">Kup</button>
            </div>
            
            <div class="food-item" id="food2">
                <img src="bulka.png" alt="Bułka z masłem"> 
                <span>Bułka z masłem [2500 Buszonki] Buszonki +25</span>
                <input type="number" id="food2-quantity" value="1" min="1">
                <span id="food2-max">Max: 0</span> <!-- Max quantity display -->
                <button class="buy-food" id="buy-food2">Kup</button>
            </div>
            
            <div class="food-item" id="food3">
                <img src="grzeski.png" alt="grzeski"> 
                <span>Grzeski [100000 Buszonki] Buszonki +100</span>
                <input type="number" id="food3-quantity" value="1" min="1">
                <span id="food3-max">Max: 0</span> <!-- Max quantity display -->
                <button class="buy-food" id="buy-food3">Kup</button>
            </div>
            
            <div class="food-item" id="food4">
                <img src="banan.jpg" alt="Banan"> 
                <span>Banan [4444444 Buszonki] Buszonki +444</span>
                <input type="number" id="food4-quantity" value="1" min="1">
                <span id="food4-max">Max: 0</span> <!-- Max quantity display -->
                <button class="buy-food" id="buy-food4">Kup</button>
            </div>
            
            <div class="food-item" id="food5">
                <img src="parowka.jpg" alt="Parówka"> 
                <span>Parówki z czajnika [240000000 Buszonki] Buszonki +975</span>
                <input type="number" id="food5-quantity" value="1" min="1">
                <span id="food5-max">Max: 0</span> <!-- Max quantity display -->
                <button class="buy-food" id="buy-food5">Kup</button>
            </div>
            
            <div class="food-item" id="food6">
                <img src="pepsi.jpg" alt="Pepsi"> 
                <span>Pepsi [5600000000 Buszonki] Buszonki +1650</span>
                <input type="number" id="food6-quantity" value="1" min="1">
                <span id="food6-max">Max: 0</span> <!-- Max quantity display -->
                <button class="buy-food" id="buy-food6">Kup</button>
            </div>
            
			
            <h3>Pomocnicy</h3>
            <hr>
            Kliknij na pomocnika aby go odblokować
            <div class="helpers">
                <div class="helper-item" id="helper1">
                    <img src="Pies.png" alt="Pies Helper">
                    <span>Luna [125000 Buszonki] Automatyczne 10% Buszonków na klik.</span>
                </div>
            </div>

            <h3>Skiny</h3>
            <hr>
            Kliknij na skina aby go odblokować
            <div class="skins">
                <div class="skin-item">
                    <img src="buszon.png" alt="Default Skin" title="Default">
                    <p class="price">[Buszko] Domyślny Buszko</p>
                </div>
                <div class="skin-item">
                    <img src="buszko.png" alt="First Skin" title="First Skin">
                    <p class="price">[Skupiony Buszon] 750 Buszonków (Buszonki razy 2)</p>
                </div>
                <div class="skin-item">
                    <img src="seba.png" alt="Second Skin" title="Second Skin">
                    <p class="price">[Sebachad] 20000 Buszonków (Buszonki razy 5)</p>
                </div>
                <div class="skin-item">
                    <img src="sheison.png" alt="Third Skin" title="Third Skin">
                    <p class="price">[ProSheison] 100000 Buszonków (Buszonki razy 10)</p>
                </div>
                <div class="skin-item">
                    <img src="buszkobasen.jpg" alt="Fourth Skin" title="Fourth Skin">
                    <p class="price">[Basenowy Buszko] 690000 Buszonków (Buszonki razy 55)</p>
                </div>
                <div class="skin-item">
                    <img src="kot.jpg" alt="Fifth Skin" title="Fifth Skin">
                    <p class="price">[KittyKat] 100000000 Buszonków (Buszonki razy 100)</p>
                </div>
                <div class="skin-item">
                    <img src="sigmabusz.png" alt="Sixth Skin" title="Sixth Skin">
                    <p class="price">[SigmaBusz] 420000000000 Buszonków (Buszonki razy 420)</p>
                </div>
                <div class="skin-item">
                    <img src="buszkoxspiderman.png" alt="Seventh Skin" title="Seventh Skin">
                    <p class="price">[Buszko x Spiderman] 69000000000000000 Buszonków (Buszonki razy 696)</p>
                </div>
                <div class="skin-item">
                    <img src="BoskiBusz.png" alt="Eight Skin" title="Eight Skin">
                    <p class="price">[BoskiBusz] 999999999999999999 Buszonków (Buszonki razy 1000)</p>
                </div>
            </div>
			
            <h3>Szafa grająca</h3>
            <hr>
            Kliknij na utwór aby go odtworzyć
            <div class="songs">
                <div class="songs-item">
                    <img src="bones.jpg" alt="Bones Song" id="song1" class="song-image unlocked" title="Click to Play (Free)">
                    <p class="price">Bones Domyślna</p>
                </div>
                <div class="songs-item">
                    <img src="enemy.jpg" alt="Enemy Song" id="song2" class="song-image locked" title="Locked: 999,999,999,999 Buszonki">
                    <p class="price">Enemy 99999999999999999 Buszonków </p>
                </div>
            </div>
            

            <h3>Motywy</h3>
            <hr>
            Wkrótce...
        </div>
    </div>
    
    <!-- Reset Button -->
    <div class="reset-container">
        <button id="resetButton">Reset Postępu</button>
    </div>

    <script src="script.js"></script>
		<script type="module">
		  // Import the functions you need from the SDKs you need
		  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
		  // TODO: Add SDKs for Firebase products that you want to use
		  // https://firebase.google.com/docs/web/setup#available-libraries

		  // Your web app's Firebase configuration
		  const firebaseConfig = {
			apiKey: "AIzaSyBMPmNPLGHrBBU3d2DNgq1rutE5R5fBAWc",
			authDomain: "buszkoclicker.firebaseapp.com",
			projectId: "buszkoclicker",
			storageBucket: "buszkoclicker.firebasestorage.app",
			messagingSenderId: "951563794729",
			appId: "1:951563794729:web:f02b247e6cc5c16cf41f38"
		  };

		  // Initialize Firebase
		  const app = initializeApp(firebaseConfig);
		</script>
</body>
</html>
